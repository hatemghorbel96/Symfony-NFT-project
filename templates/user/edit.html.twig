{% extends 'base.html.twig' %}

{% block title %}edit profile{% endblock %}

{% block body %}
<br><br><br><br>
  <div class="page-title-overlap bg-accent pt-4">
        <div class="container d-flex flex-wrap flex-sm-nowrap justify-content-center justify-content-sm-between align-items-center mb-2 pt-2">
          <div class="d-flex align-items-center">
            <div class="img-thumbnail rounded-circle position-relative flex-shrink-0" style="width: 6.375rem;">

             {% if user.image %}
            <img class="rounded-circle" src="uploads/{{user.image}}" alt="@{{user.name}}_{{user.lastname}}">
             {% else %}
            <img class="rounded-circle" src="{{asset('def.png')}}" alt="@{{user.name}}_{{user.lastname}}">
            {% endif %}
            
            </div>
            <div class="ps-3">
              <h3 class="h5 mb-2 text-light">@{{user.name}}_{{user.lastname}}</h3><span class="d-block text-light fs-sm opacity-60">Joined July 2022</span>
            </div>
          </div>
          <div class="my-sm-0 my-3 text-sm-end pt-1">
            <div class="d-flex align-items-center text-nowrap fs-sm">
              <div class="mb-2 me-sm-3 me-2 text-muted"><span class='fw-medium text-light'>{{user.posts | length}}</span> <span class='text-white opacity-70'>followers</span></div>
              <div class="mb-2 ps-sm-3 ps-2 border-start border-light text-muted"><span class='fw-medium text-light'>{{user.collects | length}}</span> <span class='text-white opacity-70'>following</span></div>
            </div><a class="text-light" href="#">{{user.userid}}<i class="ci-copy ms-2 fs-sm" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy"></i></a>
          </div>
        </div>
      </div>
      <div class="container mb-5 pb-3">
        <div class="bg-light shadow-lg rounded-3 overflow-hidden">
          <div class="row">
            <!-- Sidebar-->
            <aside class="col-lg-3 pe-xl-5">
              <!-- Account menu toggler (hidden on screens larger 992px)-->
              <div class="d-block d-lg-none p-4"><a class="btn btn-outline-accent d-block" href="#account-menu" data-bs-toggle="collapse"><i class="ci-menu me-2"></i>Account menu</a></div>
              <!-- Actual menu-->
              <div class="h-100 border-end mb-2">
                <div class="d-lg-block collapse" id="account-menu">
                 <ul class="list-unstyled mb-0">
                    <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{{path('editprofile')}}"><i class="ci-settings opacity-60 me-2"></i>Profile Settings</a></li>
                    <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{{path('showitem')}}"><i class="ci-image opacity-60 me-2"></i>My Items<span class="fs-sm text-muted ms-auto">{{user.posts | length}}</span></a></li>
                    <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{{path('showcollection')}}"><i class="ci-view-list opacity-60 me-2"></i>My Collections<span class="fs-sm text-muted ms-auto">{{user.collects | length}}</span></a></li>
                    <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center px-4 py-3" href="{{path('app_logout')}}"><i class="ci-sign-out opacity-60 me-2"></i>Sign out</a></li>
                  </ul>
                </div>
              </div>
            </aside>
            <!-- Content-->
            
            <section class="col-lg-9 pt-lg-4 pb-4 mb-3">
              <div class="pt-2 px-4 ps-lg-0 pe-xl-5 ">
                <h1 class="h3 mb-4 pt-2 text-center text-sm-start">Profile Settings</h1>
                <div class="bg-secondary rounded-3 p-4 mb-4 text-center text-sm-start">
                  <div class="d-flex flex-sm-row flex-column align-items-sm-start align-items-center">
                  {# <img class="rounded mb-sm-0 mb-3" src="/uploads/{{user.image}}" width="90" alt="Createx Studio"> #}
                   <div class="mb-md-5 mb-4 pb-md-0 pb-2 text-center">
              <h2 class="h5 mb-2 pb-1">Edit profile pic</h2>
              <p class="mb-4 fs-sm">File types supported: PNG, JPG, GIF, WEBP, MP3 or MP4. Max size: 100mb.</p>
              <!-- Drag and drop file upload--> {{form_start(form)}}
              <div class="file-drop-area">
                <div class="file-drop-icon ci-cloud-upload"></div><span class="file-drop-message">Drag and drop here to upload</span>
                {{form_row(form.image)}}
                <button class="file-drop-btn btn btn-outline-accent" type="button">Or select file</button>
              </div>

              
            </div>
                  </div>
                </div>
                <div>
                <div class="file-drop-area">
                <div class="file-drop-icon ci-cloud-upload"></div><span class="file-drop-message">Drag and drop here to upload</span>
                {{form_row(form.cover)}}
                <button class="file-drop-btn btn btn-outline-accent" type="button">Or select file</button>
              </div>
                  <div class="row gy-3 mb-4 pb-md-3 mb-2">
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-name">Full name</label>
                       {{form_widget(form.name)}}
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-username">Username</label>
                      {{form_widget(form.lastname)}}
                    </div>
                   
                    <div class="col-12">
                      <label class="form-label" for="profile-bio">Short bio</label>
                     {{form_widget(form.bio)}}
                    </div>
                  </div>
                  <h3 class="h5 mb-3">Social media profiles</h3>
                  <div class="row gy-3 mb-4 pb-2">
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-website">Website</label>
                      {{form_widget(form.web)}}
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-twitter">Twitter</label>
                      {{form_widget(form.twitter)}}
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-facebook">Facebook</label>
                      {{form_widget(form.fb)}}
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="profile-instagram">Instagram</label>
                       {{form_widget(form.insta)}}
                    </div>
                  
                  </div>
                  <!-- Submit-->
                  <div class="d-flex flex-sm-row flex-column">
                    <button class="btn btn-accent" type="submit">Update profile</button>
                  </div>
                   {{form_end(form)}}
                </div>
             
              </div>
            </section>   
          </div>
        </div>
      </div>
{% endblock %}
